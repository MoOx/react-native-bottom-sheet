{"version":3,"names":["React","memo","useEffect","useCallback","useMemo","StyleSheet","Animated","useAnimatedStyle","SCROLLABLE_TYPE","useBottomSheetInternal","BottomSheetViewComponent","focusHook","useFocusHook","enableFooterMarginAdjustment","style","children","rest","animatedScrollableContentOffsetY","animatedScrollableType","animatedFooterHeight","containerStylePaddingBottom","flattenStyle","flatten","paddingBottom","containerAnimatedStyle","value","containerStyle","handleSettingScrollable","VIEW","BottomSheetView","displayName"],"sources":["BottomSheetView.tsx"],"sourcesContent":["import React, { memo, useEffect, useCallback, useMemo } from 'react';\nimport { StyleSheet } from 'react-native';\nimport Animated, { useAnimatedStyle } from 'react-native-reanimated';\nimport { SCROLLABLE_TYPE } from '../../constants';\nimport { useBottomSheetInternal } from '../../hooks';\nimport type { BottomSheetViewProps } from './types';\n\nfunction BottomSheetViewComponent({\n  focusHook: useFocusHook = useEffect,\n  enableFooterMarginAdjustment = false,\n  style,\n  children,\n  ...rest\n}: BottomSheetViewProps) {\n  // hooks\n  const {\n    animatedScrollableContentOffsetY,\n    animatedScrollableType,\n    animatedFooterHeight,\n  } = useBottomSheetInternal();\n\n  // styles\n  const containerStylePaddingBottom = useMemo(() => {\n    const flattenStyle = StyleSheet.flatten(style);\n    const paddingBottom =\n      flattenStyle && 'paddingBottom' in flattenStyle\n        ? flattenStyle.paddingBottom\n        : 0;\n    return typeof paddingBottom === 'number' ? paddingBottom : 0;\n  }, [style]);\n  const containerAnimatedStyle = useAnimatedStyle(\n    () => ({\n      paddingBottom: enableFooterMarginAdjustment\n        ? animatedFooterHeight.value + containerStylePaddingBottom\n        : containerStylePaddingBottom,\n    }),\n    [containerStylePaddingBottom, enableFooterMarginAdjustment]\n  );\n  const containerStyle = useMemo(\n    () => [style, containerAnimatedStyle],\n    [style, containerAnimatedStyle]\n  );\n\n  // callback\n  const handleSettingScrollable = useCallback(() => {\n    animatedScrollableContentOffsetY.value = 0;\n    animatedScrollableType.value = SCROLLABLE_TYPE.VIEW;\n  }, [animatedScrollableContentOffsetY, animatedScrollableType]);\n\n  // effects\n  useFocusHook(handleSettingScrollable);\n\n  //render\n  return (\n    <Animated.View style={containerStyle} {...rest}>\n      {children}\n    </Animated.View>\n  );\n}\n\nconst BottomSheetView = memo(BottomSheetViewComponent);\nBottomSheetView.displayName = 'BottomSheetView';\n\nexport default BottomSheetView;\n"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,IAAhB,EAAsBC,SAAtB,EAAiCC,WAAjC,EAA8CC,OAA9C,QAA6D,OAA7D;AACA,SAASC,UAAT,QAA2B,cAA3B;AACA,OAAOC,QAAP,IAAmBC,gBAAnB,QAA2C,yBAA3C;AACA,SAASC,eAAT,QAAgC,iBAAhC;AACA,SAASC,sBAAT,QAAuC,aAAvC;;AAGA,SAASC,wBAAT,OAMyB;EAAA,IANS;IAChCC,SAAS,EAAEC,YAAY,GAAGV,SADM;IAEhCW,4BAA4B,GAAG,KAFC;IAGhCC,KAHgC;IAIhCC,QAJgC;IAKhC,GAAGC;EAL6B,CAMT;EACvB;EACA,MAAM;IACJC,gCADI;IAEJC,sBAFI;IAGJC;EAHI,IAIFV,sBAAsB,EAJ1B,CAFuB,CAQvB;;EACA,MAAMW,2BAA2B,GAAGhB,OAAO,CAAC,MAAM;IAChD,MAAMiB,YAAY,GAAGhB,UAAU,CAACiB,OAAX,CAAmBR,KAAnB,CAArB;IACA,MAAMS,aAAa,GACjBF,YAAY,IAAI,mBAAmBA,YAAnC,GACIA,YAAY,CAACE,aADjB,GAEI,CAHN;IAIA,OAAO,OAAOA,aAAP,KAAyB,QAAzB,GAAoCA,aAApC,GAAoD,CAA3D;EACD,CAP0C,EAOxC,CAACT,KAAD,CAPwC,CAA3C;EAQA,MAAMU,sBAAsB,GAAGjB,gBAAgB,CAC7C,OAAO;IACLgB,aAAa,EAAEV,4BAA4B,GACvCM,oBAAoB,CAACM,KAArB,GAA6BL,2BADU,GAEvCA;EAHC,CAAP,CAD6C,EAM7C,CAACA,2BAAD,EAA8BP,4BAA9B,CAN6C,CAA/C;EAQA,MAAMa,cAAc,GAAGtB,OAAO,CAC5B,MAAM,CAACU,KAAD,EAAQU,sBAAR,CADsB,EAE5B,CAACV,KAAD,EAAQU,sBAAR,CAF4B,CAA9B,CAzBuB,CA8BvB;;EACA,MAAMG,uBAAuB,GAAGxB,WAAW,CAAC,MAAM;IAChDc,gCAAgC,CAACQ,KAAjC,GAAyC,CAAzC;IACAP,sBAAsB,CAACO,KAAvB,GAA+BjB,eAAe,CAACoB,IAA/C;EACD,CAH0C,EAGxC,CAACX,gCAAD,EAAmCC,sBAAnC,CAHwC,CAA3C,CA/BuB,CAoCvB;;EACAN,YAAY,CAACe,uBAAD,CAAZ,CArCuB,CAuCvB;;EACA,oBACE,oBAAC,QAAD,CAAU,IAAV;IAAe,KAAK,EAAED;EAAtB,GAA0CV,IAA1C,GACGD,QADH,CADF;AAKD;;AAED,MAAMc,eAAe,gBAAG5B,IAAI,CAACS,wBAAD,CAA5B;AACAmB,eAAe,CAACC,WAAhB,GAA8B,iBAA9B;AAEA,eAAeD,eAAf"}