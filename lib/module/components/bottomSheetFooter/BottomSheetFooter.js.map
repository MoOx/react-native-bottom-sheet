{"version":3,"names":["React","memo","useCallback","useMemo","Animated","useAnimatedStyle","KEYBOARD_STATE","useBottomSheetInternal","styles","BottomSheetFooterComponent","animatedFooterPosition","bottomInset","style","children","animatedFooterHeight","animatedKeyboardState","containerAnimatedStyle","footerTranslateY","value","SHOWN","transform","translateY","Math","max","containerStyle","container","handleContainerLayout","nativeEvent","layout","height","BottomSheetFooter","displayName"],"sources":["BottomSheetFooter.tsx"],"sourcesContent":["import React, { memo, useCallback, useMemo } from 'react';\nimport { LayoutChangeEvent } from 'react-native';\nimport Animated, { useAnimatedStyle } from 'react-native-reanimated';\nimport { KEYBOARD_STATE } from '../../constants';\nimport { useBottomSheetInternal } from '../../hooks';\nimport type { BottomSheetDefaultFooterProps } from './types';\nimport { styles } from './styles';\n\nfunction BottomSheetFooterComponent({\n  animatedFooterPosition,\n  bottomInset = 0,\n  style,\n  children,\n}: BottomSheetDefaultFooterProps) {\n  //#region hooks\n  const { animatedFooterHeight, animatedKeyboardState } =\n    useBottomSheetInternal();\n  //#endregion\n\n  //#region styles\n  const containerAnimatedStyle = useAnimatedStyle(() => {\n    let footerTranslateY = animatedFooterPosition.value;\n\n    /**\n     * Offset the bottom inset only when keyboard is not shown\n     */\n    if (animatedKeyboardState.value !== KEYBOARD_STATE.SHOWN) {\n      footerTranslateY = footerTranslateY - bottomInset;\n    }\n\n    return {\n      transform: [\n        {\n          translateY: Math.max(0, footerTranslateY),\n        },\n      ],\n    };\n  }, [bottomInset, animatedKeyboardState, animatedFooterPosition]);\n  const containerStyle = useMemo(\n    () => [styles.container, style, containerAnimatedStyle],\n    [style, containerAnimatedStyle]\n  );\n  //#endregion\n\n  //#region callbacks\n  const handleContainerLayout = useCallback(\n    ({\n      nativeEvent: {\n        layout: { height },\n      },\n    }: LayoutChangeEvent) => {\n      animatedFooterHeight.value = height;\n    },\n    [animatedFooterHeight]\n  );\n  //#endregion\n\n  return children !== null ? (\n    <Animated.View\n      pointerEvents=\"box-none\"\n      onLayout={handleContainerLayout}\n      style={containerStyle}\n    >\n      {typeof children === 'function' ? children() : children}\n    </Animated.View>\n  ) : null;\n}\n\nconst BottomSheetFooter = memo(BottomSheetFooterComponent);\nBottomSheetFooter.displayName = 'BottomSheetFooter';\n\nexport default BottomSheetFooter;\n"],"mappings":"AAAA,OAAOA,KAAP,IAAgBC,IAAhB,EAAsBC,WAAtB,EAAmCC,OAAnC,QAAkD,OAAlD;AAEA,OAAOC,QAAP,IAAmBC,gBAAnB,QAA2C,yBAA3C;AACA,SAASC,cAAT,QAA+B,iBAA/B;AACA,SAASC,sBAAT,QAAuC,aAAvC;AAEA,SAASC,MAAT,QAAuB,UAAvB;;AAEA,SAASC,0BAAT,OAKkC;EAAA,IALE;IAClCC,sBADkC;IAElCC,WAAW,GAAG,CAFoB;IAGlCC,KAHkC;IAIlCC;EAJkC,CAKF;EAChC;EACA,MAAM;IAAEC,oBAAF;IAAwBC;EAAxB,IACJR,sBAAsB,EADxB,CAFgC,CAIhC;EAEA;;EACA,MAAMS,sBAAsB,GAAGX,gBAAgB,CAAC,MAAM;IACpD,IAAIY,gBAAgB,GAAGP,sBAAsB,CAACQ,KAA9C;IAEA;AACJ;AACA;;IACI,IAAIH,qBAAqB,CAACG,KAAtB,KAAgCZ,cAAc,CAACa,KAAnD,EAA0D;MACxDF,gBAAgB,GAAGA,gBAAgB,GAAGN,WAAtC;IACD;;IAED,OAAO;MACLS,SAAS,EAAE,CACT;QACEC,UAAU,EAAEC,IAAI,CAACC,GAAL,CAAS,CAAT,EAAYN,gBAAZ;MADd,CADS;IADN,CAAP;EAOD,CAjB8C,EAiB5C,CAACN,WAAD,EAAcI,qBAAd,EAAqCL,sBAArC,CAjB4C,CAA/C;EAkBA,MAAMc,cAAc,GAAGrB,OAAO,CAC5B,MAAM,CAACK,MAAM,CAACiB,SAAR,EAAmBb,KAAnB,EAA0BI,sBAA1B,CADsB,EAE5B,CAACJ,KAAD,EAAQI,sBAAR,CAF4B,CAA9B,CAzBgC,CA6BhC;EAEA;;EACA,MAAMU,qBAAqB,GAAGxB,WAAW,CACvC,SAIyB;IAAA,IAJxB;MACCyB,WAAW,EAAE;QACXC,MAAM,EAAE;UAAEC;QAAF;MADG;IADd,CAIwB;IACvBf,oBAAoB,CAACI,KAArB,GAA6BW,MAA7B;EACD,CAPsC,EAQvC,CAACf,oBAAD,CARuC,CAAzC,CAhCgC,CA0ChC;;EAEA,OAAOD,QAAQ,KAAK,IAAb,gBACL,oBAAC,QAAD,CAAU,IAAV;IACE,aAAa,EAAC,UADhB;IAEE,QAAQ,EAAEa,qBAFZ;IAGE,KAAK,EAAEF;EAHT,GAKG,OAAOX,QAAP,KAAoB,UAApB,GAAiCA,QAAQ,EAAzC,GAA8CA,QALjD,CADK,GAQH,IARJ;AASD;;AAED,MAAMiB,iBAAiB,gBAAG7B,IAAI,CAACQ,0BAAD,CAA9B;AACAqB,iBAAiB,CAACC,WAAlB,GAAgC,mBAAhC;AAEA,eAAeD,iBAAf"}