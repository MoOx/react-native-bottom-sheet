{"version":3,"names":["useCallback","useEffect","useBottomSheetInternal","getRefNativeTag","useScrollableSetter","ref","type","contentOffsetY","refreshable","useFocusHook","animatedScrollableType","animatedScrollableContentOffsetY","rootScrollableContentOffsetY","isContentHeightFixed","isScrollableRefreshable","setScrollableRef","removeScrollableRef","handleSettingScrollable","value","id","node","console","warn"],"sources":["useScrollableSetter.ts"],"sourcesContent":["import React, { useCallback, useEffect } from 'react';\nimport Animated from 'react-native-reanimated';\nimport { useBottomSheetInternal } from './useBottomSheetInternal';\nimport { getRefNativeTag } from '../utilities/getRefNativeTag';\nimport { SCROLLABLE_TYPE } from '../constants';\nimport type { Scrollable } from '../types';\n\nexport const useScrollableSetter = (\n  ref: React.RefObject<Scrollable>,\n  type: SCROLLABLE_TYPE,\n  contentOffsetY: Animated.SharedValue<number>,\n  refreshable: boolean,\n  useFocusHook = useEffect\n) => {\n  // hooks\n  const {\n    animatedScrollableType,\n    animatedScrollableContentOffsetY: rootScrollableContentOffsetY,\n    isContentHeightFixed,\n    isScrollableRefreshable,\n    setScrollableRef,\n    removeScrollableRef,\n  } = useBottomSheetInternal();\n\n  // callbacks\n  const handleSettingScrollable = useCallback(() => {\n    // set current content offset\n    rootScrollableContentOffsetY.value = contentOffsetY.value;\n    animatedScrollableType.value = type;\n    isScrollableRefreshable.value = refreshable;\n    isContentHeightFixed.value = false;\n\n    // set current scrollable ref\n    const id = getRefNativeTag(ref);\n    if (id) {\n      setScrollableRef({\n        id: id,\n        node: ref,\n      });\n    } else {\n      console.warn(`Couldn't find the scrollable node handle id!`);\n    }\n\n    return () => {\n      removeScrollableRef(ref);\n    };\n  }, [\n    ref,\n    type,\n    refreshable,\n    animatedScrollableType,\n    rootScrollableContentOffsetY,\n    contentOffsetY,\n    isScrollableRefreshable,\n    isContentHeightFixed,\n    setScrollableRef,\n    removeScrollableRef,\n  ]);\n\n  // effects\n  useFocusHook(handleSettingScrollable);\n};\n"],"mappings":"AAAA,SAAgBA,WAAhB,EAA6BC,SAA7B,QAA8C,OAA9C;AAEA,SAASC,sBAAT,QAAuC,0BAAvC;AACA,SAASC,eAAT,QAAgC,8BAAhC;AAIA,OAAO,MAAMC,mBAAmB,GAAG,UACjCC,GADiC,EAEjCC,IAFiC,EAGjCC,cAHiC,EAIjCC,WAJiC,EAM9B;EAAA,IADHC,YACG,uEADYR,SACZ;EACH;EACA,MAAM;IACJS,sBADI;IAEJC,gCAAgC,EAAEC,4BAF9B;IAGJC,oBAHI;IAIJC,uBAJI;IAKJC,gBALI;IAMJC;EANI,IAOFd,sBAAsB,EAP1B,CAFG,CAWH;;EACA,MAAMe,uBAAuB,GAAGjB,WAAW,CAAC,MAAM;IAChD;IACAY,4BAA4B,CAACM,KAA7B,GAAqCX,cAAc,CAACW,KAApD;IACAR,sBAAsB,CAACQ,KAAvB,GAA+BZ,IAA/B;IACAQ,uBAAuB,CAACI,KAAxB,GAAgCV,WAAhC;IACAK,oBAAoB,CAACK,KAArB,GAA6B,KAA7B,CALgD,CAOhD;;IACA,MAAMC,EAAE,GAAGhB,eAAe,CAACE,GAAD,CAA1B;;IACA,IAAIc,EAAJ,EAAQ;MACNJ,gBAAgB,CAAC;QACfI,EAAE,EAAEA,EADW;QAEfC,IAAI,EAAEf;MAFS,CAAD,CAAhB;IAID,CALD,MAKO;MACLgB,OAAO,CAACC,IAAR,CAAc,8CAAd;IACD;;IAED,OAAO,MAAM;MACXN,mBAAmB,CAACX,GAAD,CAAnB;IACD,CAFD;EAGD,CArB0C,EAqBxC,CACDA,GADC,EAEDC,IAFC,EAGDE,WAHC,EAIDE,sBAJC,EAKDE,4BALC,EAMDL,cANC,EAODO,uBAPC,EAQDD,oBARC,EASDE,gBATC,EAUDC,mBAVC,CArBwC,CAA3C,CAZG,CA8CH;;EACAP,YAAY,CAACQ,uBAAD,CAAZ;AACD,CAtDM"}