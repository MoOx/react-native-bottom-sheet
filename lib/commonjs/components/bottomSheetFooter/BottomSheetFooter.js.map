{"version":3,"names":["BottomSheetFooterComponent","animatedFooterPosition","bottomInset","style","children","animatedFooterHeight","animatedKeyboardState","useBottomSheetInternal","containerAnimatedStyle","useAnimatedStyle","footerTranslateY","value","KEYBOARD_STATE","SHOWN","transform","translateY","Math","max","containerStyle","useMemo","styles","container","handleContainerLayout","useCallback","nativeEvent","layout","height","BottomSheetFooter","memo","displayName"],"sources":["BottomSheetFooter.tsx"],"sourcesContent":["import React, { memo, useCallback, useMemo } from 'react';\nimport { LayoutChangeEvent } from 'react-native';\nimport Animated, { useAnimatedStyle } from 'react-native-reanimated';\nimport { KEYBOARD_STATE } from '../../constants';\nimport { useBottomSheetInternal } from '../../hooks';\nimport type { BottomSheetDefaultFooterProps } from './types';\nimport { styles } from './styles';\n\nfunction BottomSheetFooterComponent({\n  animatedFooterPosition,\n  bottomInset = 0,\n  style,\n  children,\n}: BottomSheetDefaultFooterProps) {\n  //#region hooks\n  const { animatedFooterHeight, animatedKeyboardState } =\n    useBottomSheetInternal();\n  //#endregion\n\n  //#region styles\n  const containerAnimatedStyle = useAnimatedStyle(() => {\n    let footerTranslateY = animatedFooterPosition.value;\n\n    /**\n     * Offset the bottom inset only when keyboard is not shown\n     */\n    if (animatedKeyboardState.value !== KEYBOARD_STATE.SHOWN) {\n      footerTranslateY = footerTranslateY - bottomInset;\n    }\n\n    return {\n      transform: [\n        {\n          translateY: Math.max(0, footerTranslateY),\n        },\n      ],\n    };\n  }, [bottomInset, animatedKeyboardState, animatedFooterPosition]);\n  const containerStyle = useMemo(\n    () => [styles.container, style, containerAnimatedStyle],\n    [style, containerAnimatedStyle]\n  );\n  //#endregion\n\n  //#region callbacks\n  const handleContainerLayout = useCallback(\n    ({\n      nativeEvent: {\n        layout: { height },\n      },\n    }: LayoutChangeEvent) => {\n      animatedFooterHeight.value = height;\n    },\n    [animatedFooterHeight]\n  );\n  //#endregion\n\n  return children !== null ? (\n    <Animated.View\n      pointerEvents=\"box-none\"\n      onLayout={handleContainerLayout}\n      style={containerStyle}\n    >\n      {typeof children === 'function' ? children() : children}\n    </Animated.View>\n  ) : null;\n}\n\nconst BottomSheetFooter = memo(BottomSheetFooterComponent);\nBottomSheetFooter.displayName = 'BottomSheetFooter';\n\nexport default BottomSheetFooter;\n"],"mappings":";;;;;;;AAAA;;AAEA;;AACA;;AACA;;AAEA;;;;;;AAEA,SAASA,0BAAT,OAKkC;EAAA,IALE;IAClCC,sBADkC;IAElCC,WAAW,GAAG,CAFoB;IAGlCC,KAHkC;IAIlCC;EAJkC,CAKF;EAChC;EACA,MAAM;IAAEC,oBAAF;IAAwBC;EAAxB,IACJ,IAAAC,6BAAA,GADF,CAFgC,CAIhC;EAEA;;EACA,MAAMC,sBAAsB,GAAG,IAAAC,uCAAA,EAAiB,MAAM;IACpD,IAAIC,gBAAgB,GAAGT,sBAAsB,CAACU,KAA9C;IAEA;AACJ;AACA;;IACI,IAAIL,qBAAqB,CAACK,KAAtB,KAAgCC,yBAAA,CAAeC,KAAnD,EAA0D;MACxDH,gBAAgB,GAAGA,gBAAgB,GAAGR,WAAtC;IACD;;IAED,OAAO;MACLY,SAAS,EAAE,CACT;QACEC,UAAU,EAAEC,IAAI,CAACC,GAAL,CAAS,CAAT,EAAYP,gBAAZ;MADd,CADS;IADN,CAAP;EAOD,CAjB8B,EAiB5B,CAACR,WAAD,EAAcI,qBAAd,EAAqCL,sBAArC,CAjB4B,CAA/B;EAkBA,MAAMiB,cAAc,GAAG,IAAAC,cAAA,EACrB,MAAM,CAACC,cAAA,CAAOC,SAAR,EAAmBlB,KAAnB,EAA0BK,sBAA1B,CADe,EAErB,CAACL,KAAD,EAAQK,sBAAR,CAFqB,CAAvB,CAzBgC,CA6BhC;EAEA;;EACA,MAAMc,qBAAqB,GAAG,IAAAC,kBAAA,EAC5B,SAIyB;IAAA,IAJxB;MACCC,WAAW,EAAE;QACXC,MAAM,EAAE;UAAEC;QAAF;MADG;IADd,CAIwB;IACvBrB,oBAAoB,CAACM,KAArB,GAA6Be,MAA7B;EACD,CAP2B,EAQ5B,CAACrB,oBAAD,CAR4B,CAA9B,CAhCgC,CA0ChC;;EAEA,OAAOD,QAAQ,KAAK,IAAb,gBACL,6BAAC,8BAAD,CAAU,IAAV;IACE,aAAa,EAAC,UADhB;IAEE,QAAQ,EAAEkB,qBAFZ;IAGE,KAAK,EAAEJ;EAHT,GAKG,OAAOd,QAAP,KAAoB,UAApB,GAAiCA,QAAQ,EAAzC,GAA8CA,QALjD,CADK,GAQH,IARJ;AASD;;AAED,MAAMuB,iBAAiB,gBAAG,IAAAC,WAAA,EAAK5B,0BAAL,CAA1B;AACA2B,iBAAiB,CAACE,WAAlB,GAAgC,mBAAhC;eAEeF,iB"}