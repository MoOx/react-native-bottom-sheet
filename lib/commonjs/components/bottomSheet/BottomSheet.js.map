{"version":3,"names":["Animated","addWhitelistedUIProps","decelerationRate","BottomSheetComponent","forwardRef","BottomSheet","props","ref","usePropsValidator","animationConfigs","_providedAnimationConfigs","index","_providedIndex","snapPoints","_providedSnapPoints","animateOnMount","DEFAULT_ANIMATE_ON_MOUNT","enableContentPanningGesture","DEFAULT_ENABLE_CONTENT_PANNING_GESTURE","enableHandlePanningGesture","DEFAULT_ENABLE_HANDLE_PANNING_GESTURE","enableOverDrag","DEFAULT_ENABLE_OVER_DRAG","enablePanDownToClose","DEFAULT_ENABLE_PAN_DOWN_TO_CLOSE","overDragResistanceFactor","DEFAULT_OVER_DRAG_RESISTANCE_FACTOR","style","_providedStyle","containerStyle","_providedContainerStyle","backgroundStyle","_providedBackgroundStyle","handleStyle","_providedHandleStyle","handleIndicatorStyle","_providedHandleIndicatorStyle","gestureEventsHandlersHook","keyboardBehavior","DEFAULT_KEYBOARD_BEHAVIOR","keyboardBlurBehavior","DEFAULT_KEYBOARD_BLUR_BEHAVIOR","android_keyboardInputMode","DEFAULT_KEYBOARD_INPUT_MODE","handleHeight","_providedHandleHeight","containerHeight","_providedContainerHeight","contentHeight","_providedContentHeight","containerOffset","_providedContainerOffset","topInset","bottomInset","animatedPosition","_providedAnimatedPosition","animatedIndex","_providedAnimatedIndex","simultaneousHandlers","_providedSimultaneousHandlers","waitFor","_providedWaitFor","activeOffsetX","_providedActiveOffsetX","activeOffsetY","_providedActiveOffsetY","failOffsetX","_providedFailOffsetX","failOffsetY","_providedFailOffsetY","onChange","_providedOnChange","onClose","_providedOnClose","onAnimate","_providedOnAnimate","$modal","detached","handleComponent","backdropComponent","backgroundComponent","footerComponent","children","Content","_animatedContainerHeight","useReactiveSharedValue","INITIAL_CONTAINER_HEIGHT","animatedContainerHeight","useDerivedValue","verticalInset","value","animatedContainerOffset","INITIAL_CONTAINER_OFFSET","animatedHandleHeight","INITIAL_HANDLE_HEIGHT","animatedFooterHeight","useSharedValue","animatedSnapPoints","useNormalizedSnapPoints","animatedHighestSnapPoint","length","animatedClosedPosition","closedPosition","animatedSheetHeight","animatedCurrentIndex","INITIAL_POSITION","animatedNextPosition","INITIAL_VALUE","animatedNextPositionIndex","isAnimatedOnMount","isContentHeightFixed","isLayoutCalculated","isContainerHeightCalculated","undefined","isHandleHeightCalculated","isSnapPointsNormalized","INITIAL_SNAP_POINT","isInTemporaryPosition","isForcedClosing","animatedContentGestureState","State","UNDETERMINED","animatedHandleGestureState","animatedScrollableType","animatedScrollableContentOffsetY","animatedScrollableOverrideState","isScrollableRefreshable","setScrollableRef","removeScrollableRef","useScrollable","state","animatedKeyboardState","height","animatedKeyboardHeight","animationDuration","keyboardAnimationDuration","animationEasing","keyboardAnimationEasing","shouldHandleKeyboardEvents","useKeyboard","animatedKeyboardHeightInContainer","animatedAnimationState","ANIMATION_STATE","animatedAnimationSource","ANIMATION_SOURCE","MOUNT","animatedSheetState","SHEET_STATE","CLOSED","extendedPosition","EXTENDED","keyboardHeightInContainer","extendedPositionWithKeyboard","Math","max","KEYBOARD_BEHAVIOR","interactive","FILL_PARENT","OVER_EXTENDED","OPENED","animatedScrollableState","SCROLLABLE_STATE","UNLOCKED","KEYBOARD_STATE","SHOWN","RUNNING","LOCKED","animatedContentHeight","extend","fillParent","contentWithKeyboardHeight","adjustedSnapPoints","slice","reverse","adjustedSnapPointsIndexes","map","_","push","currentIndex","interpolate","Extrapolate","CLAMP","KEYBOARD_INPUT_MODE","adjustResize","KEYBOARD","SNAP_POINT_CHANGE","getNextPosition","useWorkletCallback","keyboardState","highestSnapPoint","KEYBOARD_BLUR_BEHAVIOR","restore","HIDDEN","ACTIVE","nextPosition","handleOnChange","useCallback","print","component","name","method","params","handleOnAnimate","toPoint","toIndex","indexOf","fromIndex","stopAnimation","cancelAnimation","NONE","STOPPED","animateToPositionCompleted","isFinished","runOnJS","animateToPosition","position","source","velocity","configs","currentPosition","animate","point","onComplete","handleSnapToIndex","invariant","runOnUI","USER","handleSnapToPosition","normalizeSnapPoint","handleClose","handleForceClose","handleExpand","handleCollapse","useImperativeHandle","snapToIndex","snapToPosition","expand","collapse","close","forceClose","internalContextVariables","useMemo","externalContextVariables","containerAnimatedStyle","useAnimatedStyle","opacity","Platform","OS","transform","translateY","styles","container","contentContainerAnimatedStyle","contentContainerStyle","contentContainer","contentMaskContainerAnimatedStyle","overflow","paddingBottom","contentMaskContainerStyle","contentMaskContainer","useAnimatedReaction","_isLayoutCalculated","result","_previousResult","_previousSnapPoints","_previousContainerHeight","JSON","stringify","animationConfig","animationSource","CONTAINER_RESIZE","duration","_keyboardState","_keyboardHeight","_previousKeyboardState","_previousKeyboardHeight","abs","bottom","hasActiveGesture","BEGAN","none","keyboardHeight","getKeyboardAnimationConfigs","_animatedPosition","_animatedIndex","_animationState","_contentGestureState","_handleGestureState","hasNoActiveGesture","END","CANCELLED","useEffect","providedIndex","memo","displayName"],"sources":["BottomSheet.tsx"],"sourcesContent":["import React, {\n  useMemo,\n  useCallback,\n  forwardRef,\n  useImperativeHandle,\n  memo,\n  useEffect,\n} from 'react';\nimport { Platform } from 'react-native';\nimport invariant from 'invariant';\nimport Animated, {\n  useAnimatedReaction,\n  useSharedValue,\n  useAnimatedStyle,\n  useDerivedValue,\n  runOnJS,\n  interpolate,\n  Extrapolate,\n  runOnUI,\n  cancelAnimation,\n  useWorkletCallback,\n  WithSpringConfig,\n  WithTimingConfig,\n} from 'react-native-reanimated';\nimport { State } from 'react-native-gesture-handler';\nimport {\n  useScrollable,\n  usePropsValidator,\n  useReactiveSharedValue,\n  useNormalizedSnapPoints,\n  useKeyboard,\n} from '../../hooks';\nimport {\n  BottomSheetInternalProvider,\n  BottomSheetProvider,\n} from '../../contexts';\nimport BottomSheetContainer from '../bottomSheetContainer';\nimport BottomSheetGestureHandlersProvider from '../bottomSheetGestureHandlersProvider';\nimport BottomSheetBackdropContainer from '../bottomSheetBackdropContainer';\nimport BottomSheetHandleContainer from '../bottomSheetHandleContainer';\nimport BottomSheetBackgroundContainer from '../bottomSheetBackgroundContainer';\nimport BottomSheetFooterContainer from '../bottomSheetFooterContainer/BottomSheetFooterContainer';\nimport BottomSheetDraggableView from '../bottomSheetDraggableView';\n// import BottomSheetDebugView from '../bottomSheetDebugView';\nimport {\n  ANIMATION_STATE,\n  KEYBOARD_STATE,\n  KEYBOARD_BEHAVIOR,\n  SHEET_STATE,\n  SCROLLABLE_STATE,\n  KEYBOARD_BLUR_BEHAVIOR,\n  KEYBOARD_INPUT_MODE,\n  ANIMATION_SOURCE,\n} from '../../constants';\nimport {\n  animate,\n  getKeyboardAnimationConfigs,\n  normalizeSnapPoint,\n  print,\n} from '../../utilities';\nimport {\n  DEFAULT_OVER_DRAG_RESISTANCE_FACTOR,\n  DEFAULT_ENABLE_CONTENT_PANNING_GESTURE,\n  DEFAULT_ENABLE_HANDLE_PANNING_GESTURE,\n  DEFAULT_ENABLE_OVER_DRAG,\n  DEFAULT_ANIMATE_ON_MOUNT,\n  DEFAULT_KEYBOARD_BEHAVIOR,\n  DEFAULT_KEYBOARD_BLUR_BEHAVIOR,\n  DEFAULT_KEYBOARD_INPUT_MODE,\n  INITIAL_CONTAINER_HEIGHT,\n  INITIAL_HANDLE_HEIGHT,\n  INITIAL_POSITION,\n  INITIAL_SNAP_POINT,\n  DEFAULT_ENABLE_PAN_DOWN_TO_CLOSE,\n  INITIAL_CONTAINER_OFFSET,\n  INITIAL_VALUE,\n} from './constants';\nimport type { BottomSheetMethods, Insets } from '../../types';\nimport type { BottomSheetProps, AnimateToPositionType } from './types';\nimport { styles } from './styles';\n\nAnimated.addWhitelistedUIProps({\n  decelerationRate: true,\n});\n\ntype BottomSheet = BottomSheetMethods;\n\nconst BottomSheetComponent = forwardRef<BottomSheet, BottomSheetProps>(\n  function BottomSheet(props, ref) {\n    //#region validate props\n    usePropsValidator(props);\n    //#endregion\n\n    //#region extract props\n    const {\n      // animations configurations\n      animationConfigs: _providedAnimationConfigs,\n\n      // configurations\n      index: _providedIndex = 0,\n      snapPoints: _providedSnapPoints,\n      animateOnMount = DEFAULT_ANIMATE_ON_MOUNT,\n      enableContentPanningGesture = DEFAULT_ENABLE_CONTENT_PANNING_GESTURE,\n      enableHandlePanningGesture = DEFAULT_ENABLE_HANDLE_PANNING_GESTURE,\n      enableOverDrag = DEFAULT_ENABLE_OVER_DRAG,\n      enablePanDownToClose = DEFAULT_ENABLE_PAN_DOWN_TO_CLOSE,\n      overDragResistanceFactor = DEFAULT_OVER_DRAG_RESISTANCE_FACTOR,\n\n      // styles\n      style: _providedStyle,\n      containerStyle: _providedContainerStyle,\n      backgroundStyle: _providedBackgroundStyle,\n      handleStyle: _providedHandleStyle,\n      handleIndicatorStyle: _providedHandleIndicatorStyle,\n\n      // hooks\n      gestureEventsHandlersHook,\n\n      // keyboard\n      keyboardBehavior = DEFAULT_KEYBOARD_BEHAVIOR,\n      keyboardBlurBehavior = DEFAULT_KEYBOARD_BLUR_BEHAVIOR,\n      android_keyboardInputMode = DEFAULT_KEYBOARD_INPUT_MODE,\n\n      // layout\n      handleHeight: _providedHandleHeight,\n      containerHeight: _providedContainerHeight,\n      contentHeight: _providedContentHeight,\n      containerOffset: _providedContainerOffset,\n      topInset = 0,\n      bottomInset = 0,\n\n      // animated callback shared values\n      animatedPosition: _providedAnimatedPosition,\n      animatedIndex: _providedAnimatedIndex,\n\n      // gestures\n      simultaneousHandlers: _providedSimultaneousHandlers,\n      waitFor: _providedWaitFor,\n      activeOffsetX: _providedActiveOffsetX,\n      activeOffsetY: _providedActiveOffsetY,\n      failOffsetX: _providedFailOffsetX,\n      failOffsetY: _providedFailOffsetY,\n\n      // callbacks\n      onChange: _providedOnChange,\n      onClose: _providedOnClose,\n      onAnimate: _providedOnAnimate,\n\n      // private\n      $modal = false,\n      detached = false,\n\n      // components\n      handleComponent,\n      backdropComponent,\n      backgroundComponent,\n      footerComponent,\n      children: Content,\n    } = props;\n    //#endregion\n\n    //#region layout variables\n    /**\n     * This variable is consider an internal variable,\n     * that will be used conditionally in `animatedContainerHeight`\n     */\n    const _animatedContainerHeight = useReactiveSharedValue(\n      _providedContainerHeight ?? INITIAL_CONTAINER_HEIGHT\n    );\n    /**\n     * This is a conditional variable, where if the `BottomSheet` is used\n     * in a modal, then it will subset vertical insets (top+bottom) from\n     * provided container height.\n     */\n    const animatedContainerHeight = useDerivedValue(() => {\n      const verticalInset = topInset + bottomInset;\n      return $modal\n        ? _animatedContainerHeight.value - verticalInset\n        : _animatedContainerHeight.value;\n    }, [$modal, topInset, bottomInset]);\n    const animatedContainerOffset = useReactiveSharedValue(\n      _providedContainerOffset ?? INITIAL_CONTAINER_OFFSET\n    ) as Animated.SharedValue<Insets>;\n    const animatedHandleHeight = useReactiveSharedValue(\n      _providedHandleHeight ?? INITIAL_HANDLE_HEIGHT\n    );\n    const animatedFooterHeight = useSharedValue(0);\n    const animatedSnapPoints = useNormalizedSnapPoints(\n      _providedSnapPoints,\n      animatedContainerHeight,\n      topInset,\n      bottomInset,\n      $modal\n    );\n    const animatedHighestSnapPoint = useDerivedValue(\n      () => animatedSnapPoints.value[animatedSnapPoints.value.length - 1]\n    );\n    const animatedClosedPosition = useDerivedValue(() => {\n      let closedPosition = animatedContainerHeight.value;\n\n      if ($modal || detached) {\n        closedPosition = animatedContainerHeight.value + bottomInset;\n      }\n\n      return closedPosition;\n    }, [$modal, detached, bottomInset]);\n    const animatedSheetHeight = useDerivedValue(\n      () => animatedContainerHeight.value - animatedHighestSnapPoint.value\n    );\n    const animatedCurrentIndex = useReactiveSharedValue(\n      animateOnMount ? -1 : _providedIndex\n    );\n    const animatedPosition = useSharedValue(INITIAL_POSITION);\n    const animatedNextPosition = useSharedValue(INITIAL_VALUE);\n    const animatedNextPositionIndex = useSharedValue(0);\n\n    // conditional\n    const isAnimatedOnMount = useSharedValue(false);\n    const isContentHeightFixed = useSharedValue(false);\n    const isLayoutCalculated = useDerivedValue(() => {\n      let isContainerHeightCalculated = false;\n      //container height was provided.\n      if (\n        _providedContainerHeight !== null ||\n        _providedContainerHeight !== undefined\n      ) {\n        isContainerHeightCalculated = true;\n      }\n      // container height did set.\n      if (animatedContainerHeight.value !== INITIAL_CONTAINER_HEIGHT) {\n        isContainerHeightCalculated = true;\n      }\n\n      let isHandleHeightCalculated = false;\n      // handle height is provided.\n      if (\n        _providedHandleHeight !== null &&\n        _providedHandleHeight !== undefined &&\n        typeof _providedHandleHeight === 'number'\n      ) {\n        isHandleHeightCalculated = true;\n      }\n      // handle component is null.\n      if (handleComponent === null) {\n        animatedHandleHeight.value = 0;\n        isHandleHeightCalculated = true;\n      }\n      // handle height did set.\n      if (animatedHandleHeight.value !== INITIAL_HANDLE_HEIGHT) {\n        isHandleHeightCalculated = true;\n      }\n\n      let isSnapPointsNormalized = false;\n      // the first snap point did normalized\n      if (animatedSnapPoints.value[0] !== INITIAL_SNAP_POINT) {\n        isSnapPointsNormalized = true;\n      }\n\n      return (\n        isContainerHeightCalculated &&\n        isHandleHeightCalculated &&\n        isSnapPointsNormalized\n      );\n    });\n    const isInTemporaryPosition = useSharedValue(false);\n    const isForcedClosing = useSharedValue(false);\n\n    // gesture\n    const animatedContentGestureState = useSharedValue<State>(\n      State.UNDETERMINED\n    );\n    const animatedHandleGestureState = useSharedValue<State>(\n      State.UNDETERMINED\n    );\n    //#endregion\n\n    //#region hooks variables\n    // scrollable variables\n    const {\n      animatedScrollableType,\n      animatedScrollableContentOffsetY,\n      animatedScrollableOverrideState,\n      isScrollableRefreshable,\n      setScrollableRef,\n      removeScrollableRef,\n    } = useScrollable();\n    // keyboard\n    const {\n      state: animatedKeyboardState,\n      height: animatedKeyboardHeight,\n      animationDuration: keyboardAnimationDuration,\n      animationEasing: keyboardAnimationEasing,\n      shouldHandleKeyboardEvents,\n    } = useKeyboard();\n    const animatedKeyboardHeightInContainer = useSharedValue(0);\n    //#endregion\n\n    //#region state/dynamic variables\n    // states\n    const animatedAnimationState = useSharedValue(ANIMATION_STATE.UNDETERMINED);\n    const animatedAnimationSource = useSharedValue<ANIMATION_SOURCE>(\n      ANIMATION_SOURCE.MOUNT\n    );\n    const animatedSheetState = useDerivedValue(() => {\n      // closed position = position >= container height\n      if (animatedPosition.value >= animatedClosedPosition.value)\n        return SHEET_STATE.CLOSED;\n\n      // extended position = container height - sheet height\n      const extendedPosition =\n        animatedContainerHeight.value - animatedSheetHeight.value;\n      if (animatedPosition.value === extendedPosition)\n        return SHEET_STATE.EXTENDED;\n\n      // extended position with keyboard =\n      // container height - (sheet height + keyboard height in root container)\n      const keyboardHeightInContainer = animatedKeyboardHeightInContainer.value;\n      const extendedPositionWithKeyboard = Math.max(\n        0,\n        animatedContainerHeight.value -\n          (animatedSheetHeight.value + keyboardHeightInContainer)\n      );\n\n      // detect if keyboard is open and the sheet is in temporary position\n      if (\n        keyboardBehavior === KEYBOARD_BEHAVIOR.interactive &&\n        isInTemporaryPosition.value &&\n        animatedPosition.value === extendedPositionWithKeyboard\n      ) {\n        return SHEET_STATE.EXTENDED;\n      }\n\n      // fill parent = 0\n      if (animatedPosition.value === 0) {\n        return SHEET_STATE.FILL_PARENT;\n      }\n\n      // detect if position is below extended point\n      if (animatedPosition.value < extendedPosition) {\n        return SHEET_STATE.OVER_EXTENDED;\n      }\n\n      return SHEET_STATE.OPENED;\n    }, [\n      animatedClosedPosition,\n      animatedContainerHeight,\n      animatedKeyboardHeightInContainer,\n      animatedPosition,\n      animatedSheetHeight,\n      isInTemporaryPosition,\n      keyboardBehavior,\n    ]);\n    const animatedScrollableState = useDerivedValue(() => {\n      /**\n       * if scrollable override state is set, then we just return its value.\n       */\n      if (\n        animatedScrollableOverrideState.value !== SCROLLABLE_STATE.UNDETERMINED\n      ) {\n        return animatedScrollableOverrideState.value;\n      }\n      /**\n       * if sheet state is fill parent, then unlock scrolling\n       */\n      if (animatedSheetState.value === SHEET_STATE.FILL_PARENT) {\n        return SCROLLABLE_STATE.UNLOCKED;\n      }\n\n      /**\n       * if sheet state is extended, then unlock scrolling\n       */\n      if (animatedSheetState.value === SHEET_STATE.EXTENDED) {\n        return SCROLLABLE_STATE.UNLOCKED;\n      }\n\n      /**\n       * if keyboard is shown and sheet is animating\n       * then we do not lock the scrolling to not lose\n       * current scrollable scroll position.\n       */\n      if (\n        animatedKeyboardState.value === KEYBOARD_STATE.SHOWN &&\n        animatedAnimationState.value === ANIMATION_STATE.RUNNING\n      ) {\n        return SCROLLABLE_STATE.UNLOCKED;\n      }\n\n      return SCROLLABLE_STATE.LOCKED;\n    });\n    // dynamic\n    const animatedContentHeight = useDerivedValue(() => {\n      const keyboardHeightInContainer = animatedKeyboardHeightInContainer.value;\n      const handleHeight = Math.max(0, animatedHandleHeight.value);\n      let contentHeight = animatedSheetHeight.value - handleHeight;\n\n      if (\n        keyboardBehavior === KEYBOARD_BEHAVIOR.extend &&\n        animatedKeyboardState.value === KEYBOARD_STATE.SHOWN\n      ) {\n        contentHeight = contentHeight - keyboardHeightInContainer;\n      } else if (\n        keyboardBehavior === KEYBOARD_BEHAVIOR.fillParent &&\n        isInTemporaryPosition.value\n      ) {\n        if (animatedKeyboardState.value === KEYBOARD_STATE.SHOWN) {\n          contentHeight =\n            animatedContainerHeight.value -\n            handleHeight -\n            keyboardHeightInContainer;\n        } else {\n          contentHeight = animatedContainerHeight.value - handleHeight;\n        }\n      } else if (\n        keyboardBehavior === KEYBOARD_BEHAVIOR.interactive &&\n        isInTemporaryPosition.value\n      ) {\n        const contentWithKeyboardHeight =\n          contentHeight + keyboardHeightInContainer;\n\n        if (animatedKeyboardState.value === KEYBOARD_STATE.SHOWN) {\n          if (\n            keyboardHeightInContainer + animatedSheetHeight.value >\n            animatedContainerHeight.value\n          ) {\n            contentHeight =\n              animatedContainerHeight.value -\n              keyboardHeightInContainer -\n              handleHeight;\n          }\n        } else if (\n          contentWithKeyboardHeight + handleHeight >\n          animatedContainerHeight.value\n        ) {\n          contentHeight = animatedContainerHeight.value - handleHeight;\n        } else {\n          contentHeight = contentWithKeyboardHeight;\n        }\n      }\n\n      /**\n       * before the container is measured, `contentHeight` value will be below zero,\n       * which will lead to freeze the scrollable.\n       *\n       * @link (https://github.com/gorhom/react-native-bottom-sheet/issues/470)\n       */\n      return Math.max(contentHeight, 0);\n    }, [\n      animatedContainerHeight,\n      animatedHandleHeight,\n      animatedKeyboardHeightInContainer,\n      animatedKeyboardState,\n      animatedSheetHeight,\n      isInTemporaryPosition,\n      keyboardBehavior,\n    ]);\n    const animatedIndex = useDerivedValue(() => {\n      const adjustedSnapPoints = animatedSnapPoints.value.slice().reverse();\n      const adjustedSnapPointsIndexes = animatedSnapPoints.value\n        .slice()\n        .map((_: any, index: number) => index)\n        .reverse();\n\n      /**\n       * we add the close state index `-1`\n       */\n      adjustedSnapPoints.push(animatedContainerHeight.value);\n      adjustedSnapPointsIndexes.push(-1);\n\n      const currentIndex = isLayoutCalculated.value\n        ? interpolate(\n            animatedPosition.value,\n            adjustedSnapPoints,\n            adjustedSnapPointsIndexes,\n            Extrapolate.CLAMP\n          )\n        : -1;\n\n      /**\n       * if the sheet is currently running an animation by the keyboard opening,\n       * then we clamp the index on android with resize keyboard mode.\n       */\n      if (\n        android_keyboardInputMode === KEYBOARD_INPUT_MODE.adjustResize &&\n        animatedAnimationSource.value === ANIMATION_SOURCE.KEYBOARD &&\n        animatedAnimationState.value === ANIMATION_STATE.RUNNING &&\n        isInTemporaryPosition.value\n      ) {\n        return Math.max(animatedCurrentIndex.value, currentIndex);\n      }\n\n      /**\n       * if the sheet is currently running an animation by snap point change - usually caused\n       * by dynamic content height -, then we return the next position index.\n       */\n      if (\n        animatedAnimationSource.value === ANIMATION_SOURCE.SNAP_POINT_CHANGE &&\n        animatedAnimationState.value === ANIMATION_STATE.RUNNING\n      ) {\n        return animatedNextPositionIndex.value;\n      }\n\n      return currentIndex;\n    }, [android_keyboardInputMode]);\n    //#endregion\n\n    //#region private methods\n    /**\n     * Calculate the next position based on keyboard state.\n     */\n    const getNextPosition = useWorkletCallback(\n      function getNextPosition() {\n        'worklet';\n        const currentIndex = animatedCurrentIndex.value;\n        const snapPoints = animatedSnapPoints.value;\n        const keyboardState = animatedKeyboardState.value;\n        const highestSnapPoint = animatedHighestSnapPoint.value;\n\n        /**\n         * Handle restore sheet position on blur\n         */\n        if (\n          keyboardBlurBehavior === KEYBOARD_BLUR_BEHAVIOR.restore &&\n          keyboardState === KEYBOARD_STATE.HIDDEN &&\n          animatedContentGestureState.value !== State.ACTIVE &&\n          animatedHandleGestureState.value !== State.ACTIVE\n        ) {\n          isInTemporaryPosition.value = false;\n          const nextPosition = snapPoints[currentIndex];\n          return nextPosition;\n        }\n\n        /**\n         * Handle extend behavior\n         */\n        if (\n          keyboardBehavior === KEYBOARD_BEHAVIOR.extend &&\n          keyboardState === KEYBOARD_STATE.SHOWN\n        ) {\n          return highestSnapPoint;\n        }\n\n        /**\n         * Handle full screen behavior\n         */\n        if (\n          keyboardBehavior === KEYBOARD_BEHAVIOR.fillParent &&\n          keyboardState === KEYBOARD_STATE.SHOWN\n        ) {\n          isInTemporaryPosition.value = true;\n          return 0;\n        }\n\n        /**\n         * handle interactive behavior\n         */\n        if (\n          keyboardBehavior === KEYBOARD_BEHAVIOR.interactive &&\n          keyboardState === KEYBOARD_STATE.SHOWN\n        ) {\n          isInTemporaryPosition.value = true;\n          const keyboardHeightInContainer =\n            animatedKeyboardHeightInContainer.value;\n          return Math.max(0, highestSnapPoint - keyboardHeightInContainer);\n        }\n\n        if (isInTemporaryPosition.value) {\n          return animatedPosition.value;\n        }\n\n        if (!isAnimatedOnMount.value) {\n          return snapPoints[_providedIndex];\n        }\n\n        return snapPoints[currentIndex];\n      },\n      [\n        animatedContentGestureState,\n        animatedCurrentIndex,\n        animatedHandleGestureState,\n        animatedHighestSnapPoint,\n        animatedKeyboardHeightInContainer,\n        animatedKeyboardState,\n        animatedPosition,\n        animatedSnapPoints,\n        isInTemporaryPosition,\n        isAnimatedOnMount,\n        keyboardBehavior,\n        keyboardBlurBehavior,\n        _providedIndex,\n      ]\n    );\n    const handleOnChange = useCallback(\n      function handleOnChange(index: number) {\n        print({\n          component: BottomSheet.name,\n          method: handleOnChange.name,\n          params: {\n            index,\n            animatedCurrentIndex: animatedCurrentIndex.value,\n          },\n        });\n\n        if (_providedOnChange) {\n          _providedOnChange(index);\n        }\n      },\n      [_providedOnChange, animatedCurrentIndex]\n    );\n    const handleOnAnimate = useCallback(\n      function handleOnAnimate(toPoint: number) {\n        const snapPoints = animatedSnapPoints.value;\n        const toIndex = snapPoints.indexOf(toPoint);\n\n        print({\n          component: BottomSheet.name,\n          method: handleOnAnimate.name,\n          params: {\n            toIndex,\n            fromIndex: animatedCurrentIndex.value,\n          },\n        });\n\n        if (!_providedOnAnimate) {\n          return;\n        }\n\n        if (toIndex !== animatedCurrentIndex.value) {\n          _providedOnAnimate(animatedCurrentIndex.value, toIndex);\n        }\n      },\n      [_providedOnAnimate, animatedSnapPoints, animatedCurrentIndex]\n    );\n    //#endregion\n\n    //#region animation\n    const stopAnimation = useWorkletCallback(() => {\n      cancelAnimation(animatedPosition);\n      isForcedClosing.value = false;\n      animatedAnimationSource.value = ANIMATION_SOURCE.NONE;\n      animatedAnimationState.value = ANIMATION_STATE.STOPPED;\n    }, [animatedPosition, animatedAnimationState, animatedAnimationSource]);\n    const animateToPositionCompleted = useWorkletCallback(\n      function animateToPositionCompleted(isFinished?: boolean) {\n        isForcedClosing.value = false;\n\n        if (!isFinished) {\n          return;\n        }\n        runOnJS(print)({\n          component: BottomSheet.name,\n          method: animateToPositionCompleted.name,\n          params: {\n            animatedCurrentIndex: animatedCurrentIndex.value,\n            animatedNextPosition: animatedNextPosition.value,\n            animatedNextPositionIndex: animatedNextPositionIndex.value,\n          },\n        });\n\n        animatedAnimationSource.value = ANIMATION_SOURCE.NONE;\n        animatedAnimationState.value = ANIMATION_STATE.STOPPED;\n        animatedNextPosition.value = INITIAL_VALUE;\n        animatedNextPositionIndex.value = INITIAL_VALUE;\n      }\n    );\n    const animateToPosition: AnimateToPositionType = useWorkletCallback(\n      function animateToPosition(\n        position: number,\n        source: ANIMATION_SOURCE,\n        velocity: number = 0,\n        configs?: WithTimingConfig | WithSpringConfig\n      ) {\n        if (\n          position === animatedPosition.value ||\n          position === undefined ||\n          (animatedAnimationState.value === ANIMATION_STATE.RUNNING &&\n            position === animatedNextPosition.value)\n        ) {\n          return;\n        }\n\n        runOnJS(print)({\n          component: BottomSheet.name,\n          method: animateToPosition.name,\n          params: {\n            currentPosition: animatedPosition.value,\n            position,\n            velocity,\n          },\n        });\n\n        stopAnimation();\n\n        /**\n         * set animation state to running, and source\n         */\n        animatedAnimationState.value = ANIMATION_STATE.RUNNING;\n        animatedAnimationSource.value = source;\n\n        /**\n         * store next position\n         */\n        animatedNextPosition.value = position;\n        animatedNextPositionIndex.value =\n          animatedSnapPoints.value.indexOf(position);\n\n        /**\n         * fire `onAnimate` callback\n         */\n        runOnJS(handleOnAnimate)(position);\n\n        /**\n         * force animation configs from parameters, if provided\n         */\n        if (configs !== undefined) {\n          animatedPosition.value = animate({\n            point: position,\n            configs,\n            velocity,\n            onComplete: animateToPositionCompleted,\n          });\n        } else {\n          /**\n           * use animationConfigs callback, if provided\n           */\n          animatedPosition.value = animate({\n            point: position,\n            velocity,\n            configs: _providedAnimationConfigs,\n            onComplete: animateToPositionCompleted,\n          });\n        }\n      },\n      [handleOnAnimate, _providedAnimationConfigs]\n    );\n    //#endregion\n\n    //#region public methods\n    const handleSnapToIndex = useCallback(\n      function handleSnapToIndex(\n        index: number,\n        animationConfigs?: WithSpringConfig | WithTimingConfig\n      ) {\n        const snapPoints = animatedSnapPoints.value;\n        invariant(\n          index >= -1 && index <= snapPoints.length - 1,\n          `'index' was provided but out of the provided snap points range! expected value to be between -1, ${\n            snapPoints.length - 1\n          }`\n        );\n        print({\n          component: BottomSheet.name,\n          method: handleSnapToIndex.name,\n          params: {\n            index,\n          },\n        });\n\n        const nextPosition = snapPoints[index];\n\n        /**\n         * exit method if :\n         * - layout is not calculated.\n         * - already animating to next position.\n         * - sheet is forced closing.\n         */\n        if (\n          !isLayoutCalculated.value ||\n          index === animatedNextPositionIndex.value ||\n          nextPosition === animatedNextPosition.value ||\n          isForcedClosing.value\n        ) {\n          return;\n        }\n\n        /**\n         * reset temporary position boolean.\n         */\n        isInTemporaryPosition.value = false;\n\n        runOnUI(animateToPosition)(\n          nextPosition,\n          ANIMATION_SOURCE.USER,\n          0,\n          animationConfigs\n        );\n      },\n      [\n        animateToPosition,\n        isLayoutCalculated,\n        isInTemporaryPosition,\n        isForcedClosing,\n        animatedSnapPoints,\n        animatedNextPosition,\n        animatedNextPositionIndex,\n      ]\n    );\n    const handleSnapToPosition = useWorkletCallback(\n      function handleSnapToPosition(\n        position: number | string,\n        animationConfigs?: WithSpringConfig | WithTimingConfig\n      ) {\n        print({\n          component: BottomSheet.name,\n          method: handleSnapToPosition.name,\n          params: {\n            position,\n          },\n        });\n\n        /**\n         * normalized provided position.\n         */\n        const nextPosition = normalizeSnapPoint(\n          position,\n          animatedContainerHeight.value,\n          topInset,\n          bottomInset\n        );\n\n        /**\n         * exit method if :\n         * - layout is not calculated.\n         * - already animating to next position.\n         * - sheet is forced closing.\n         */\n        if (\n          !isLayoutCalculated ||\n          nextPosition === animatedNextPosition.value ||\n          isForcedClosing.value\n        ) {\n          return;\n        }\n\n        /**\n         * mark the new position as temporary.\n         */\n        isInTemporaryPosition.value = true;\n\n        runOnUI(animateToPosition)(\n          nextPosition,\n          ANIMATION_SOURCE.USER,\n          0,\n          animationConfigs\n        );\n      },\n      [\n        animateToPosition,\n        bottomInset,\n        topInset,\n        isLayoutCalculated,\n        isForcedClosing,\n        animatedContainerHeight,\n        animatedPosition,\n      ]\n    );\n    const handleClose = useCallback(\n      function handleClose(\n        animationConfigs?: WithSpringConfig | WithTimingConfig\n      ) {\n        print({\n          component: BottomSheet.name,\n          method: handleClose.name,\n        });\n\n        const nextPosition = animatedClosedPosition.value;\n\n        /**\n         * exit method if :\n         * - layout is not calculated.\n         * - already animating to next position.\n         * - sheet is forced closing.\n         */\n        if (\n          !isLayoutCalculated.value ||\n          nextPosition === animatedNextPosition.value ||\n          isForcedClosing.value\n        ) {\n          return;\n        }\n\n        /**\n         * reset temporary position variable.\n         */\n        isInTemporaryPosition.value = false;\n\n        runOnUI(animateToPosition)(\n          nextPosition,\n          ANIMATION_SOURCE.USER,\n          0,\n          animationConfigs\n        );\n      },\n      [\n        animateToPosition,\n        isForcedClosing,\n        isLayoutCalculated,\n        isInTemporaryPosition,\n        animatedNextPosition,\n        animatedClosedPosition,\n      ]\n    );\n    const handleForceClose = useCallback(\n      function handleForceClose(\n        animationConfigs?: WithSpringConfig | WithTimingConfig\n      ) {\n        print({\n          component: BottomSheet.name,\n          method: handleForceClose.name,\n        });\n\n        const nextPosition = animatedClosedPosition.value;\n\n        /**\n         * exit method if :\n         * - already animating to next position.\n         * - sheet is forced closing.\n         */\n        if (\n          nextPosition === animatedNextPosition.value ||\n          isForcedClosing.value\n        ) {\n          return;\n        }\n\n        /**\n         * reset temporary position variable.\n         */\n        isInTemporaryPosition.value = false;\n\n        /**\n         * set force closing variable.\n         */\n        isForcedClosing.value = true;\n\n        runOnUI(animateToPosition)(\n          nextPosition,\n          ANIMATION_SOURCE.USER,\n          0,\n          animationConfigs\n        );\n      },\n      [\n        animateToPosition,\n        isForcedClosing,\n        isInTemporaryPosition,\n        animatedNextPosition,\n        animatedClosedPosition,\n      ]\n    );\n    const handleExpand = useCallback(\n      function handleExpand(\n        animationConfigs?: WithSpringConfig | WithTimingConfig\n      ) {\n        print({\n          component: BottomSheet.name,\n          method: handleExpand.name,\n        });\n\n        const snapPoints = animatedSnapPoints.value;\n        const nextPosition = snapPoints[snapPoints.length - 1];\n\n        /**\n         * exit method if :\n         * - layout is not calculated.\n         * - already animating to next position.\n         * - sheet is forced closing.\n         */\n        if (\n          !isLayoutCalculated.value ||\n          snapPoints.length - 1 === animatedNextPositionIndex.value ||\n          nextPosition === animatedNextPosition.value ||\n          isForcedClosing.value\n        ) {\n          return;\n        }\n\n        /**\n         * reset temporary position boolean.\n         */\n        isInTemporaryPosition.value = false;\n\n        runOnUI(animateToPosition)(\n          nextPosition,\n          ANIMATION_SOURCE.USER,\n          0,\n          animationConfigs\n        );\n      },\n      [\n        animateToPosition,\n        isInTemporaryPosition,\n        isLayoutCalculated,\n        isForcedClosing,\n        animatedSnapPoints,\n        animatedNextPosition,\n        animatedNextPositionIndex,\n      ]\n    );\n    const handleCollapse = useCallback(\n      function handleCollapse(\n        animationConfigs?: WithSpringConfig | WithTimingConfig\n      ) {\n        print({\n          component: BottomSheet.name,\n          method: handleCollapse.name,\n        });\n\n        const nextPosition = animatedSnapPoints.value[0];\n\n        /**\n         * exit method if :\n         * - layout is not calculated.\n         * - already animating to next position.\n         * - sheet is forced closing.\n         */\n        if (\n          !isLayoutCalculated ||\n          animatedNextPositionIndex.value === 0 ||\n          nextPosition === animatedNextPosition.value ||\n          isForcedClosing.value\n        ) {\n          return;\n        }\n\n        /**\n         * reset temporary position boolean.\n         */\n        isInTemporaryPosition.value = false;\n\n        runOnUI(animateToPosition)(\n          nextPosition,\n          ANIMATION_SOURCE.USER,\n          0,\n          animationConfigs\n        );\n      },\n      [\n        animateToPosition,\n        isForcedClosing,\n        isLayoutCalculated,\n        isInTemporaryPosition,\n        animatedSnapPoints,\n        animatedNextPosition,\n        animatedNextPositionIndex,\n      ]\n    );\n\n    useImperativeHandle(ref, () => ({\n      snapToIndex: handleSnapToIndex,\n      snapToPosition: handleSnapToPosition,\n      expand: handleExpand,\n      collapse: handleCollapse,\n      close: handleClose,\n      forceClose: handleForceClose,\n    }));\n    //#endregion\n\n    //#region contexts variables\n    const internalContextVariables = useMemo(\n      () => ({\n        enableContentPanningGesture,\n        overDragResistanceFactor,\n        enableOverDrag,\n        enablePanDownToClose,\n        animatedAnimationState,\n        animatedSheetState,\n        animatedScrollableState,\n        animatedScrollableOverrideState,\n        animatedContentGestureState,\n        animatedHandleGestureState,\n        animatedKeyboardState,\n        animatedScrollableType,\n        animatedIndex,\n        animatedPosition,\n        animatedContentHeight,\n        animatedClosedPosition,\n        animatedHandleHeight,\n        animatedFooterHeight,\n        animatedKeyboardHeight,\n        animatedKeyboardHeightInContainer,\n        animatedContainerHeight,\n        animatedSnapPoints,\n        animatedHighestSnapPoint,\n        animatedScrollableContentOffsetY,\n        isInTemporaryPosition,\n        isContentHeightFixed,\n        isScrollableRefreshable,\n        shouldHandleKeyboardEvents,\n        simultaneousHandlers: _providedSimultaneousHandlers,\n        waitFor: _providedWaitFor,\n        activeOffsetX: _providedActiveOffsetX,\n        activeOffsetY: _providedActiveOffsetY,\n        failOffsetX: _providedFailOffsetX,\n        failOffsetY: _providedFailOffsetY,\n        animateToPosition,\n        stopAnimation,\n        setScrollableRef,\n        removeScrollableRef,\n      }),\n      [\n        animatedIndex,\n        animatedPosition,\n        animatedContentHeight,\n        animatedScrollableType,\n        animatedContentGestureState,\n        animatedHandleGestureState,\n        animatedClosedPosition,\n        animatedFooterHeight,\n        animatedContainerHeight,\n        animatedHandleHeight,\n        animatedAnimationState,\n        animatedKeyboardState,\n        animatedKeyboardHeight,\n        animatedKeyboardHeightInContainer,\n        animatedSheetState,\n        animatedHighestSnapPoint,\n        animatedScrollableState,\n        animatedScrollableOverrideState,\n        animatedSnapPoints,\n        shouldHandleKeyboardEvents,\n        animatedScrollableContentOffsetY,\n        isScrollableRefreshable,\n        isContentHeightFixed,\n        isInTemporaryPosition,\n        enableContentPanningGesture,\n        overDragResistanceFactor,\n        enableOverDrag,\n        enablePanDownToClose,\n        _providedSimultaneousHandlers,\n        _providedWaitFor,\n        _providedActiveOffsetX,\n        _providedActiveOffsetY,\n        _providedFailOffsetX,\n        _providedFailOffsetY,\n        setScrollableRef,\n        removeScrollableRef,\n        animateToPosition,\n        stopAnimation,\n      ]\n    );\n    const externalContextVariables = useMemo(\n      () => ({\n        animatedIndex,\n        animatedPosition,\n        snapToIndex: handleSnapToIndex,\n        snapToPosition: handleSnapToPosition,\n        expand: handleExpand,\n        collapse: handleCollapse,\n        close: handleClose,\n        forceClose: handleForceClose,\n      }),\n      [\n        animatedIndex,\n        animatedPosition,\n        handleSnapToIndex,\n        handleSnapToPosition,\n        handleExpand,\n        handleCollapse,\n        handleClose,\n        handleForceClose,\n      ]\n    );\n    //#endregion\n\n    //#region styles\n    const containerAnimatedStyle = useAnimatedStyle(\n      () => ({\n        opacity:\n          Platform.OS === 'android' && animatedIndex.value === -1 ? 0 : 1,\n        transform: [\n          {\n            translateY: animatedPosition.value,\n          },\n        ],\n      }),\n      [animatedPosition, animatedIndex]\n    );\n    const containerStyle = useMemo(\n      () => [_providedStyle, styles.container, containerAnimatedStyle],\n      [_providedStyle, containerAnimatedStyle]\n    );\n    const contentContainerAnimatedStyle = useAnimatedStyle(() => {\n      /**\n       * if content height was provided, then we skip setting\n       * calculated height.\n       */\n      if (_providedContentHeight) {\n        return {};\n      }\n\n      return {\n        height: animate({\n          point: animatedContentHeight.value,\n          configs: _providedAnimationConfigs,\n        }),\n      };\n    }, [animatedContentHeight, _providedContentHeight]);\n    const contentContainerStyle = useMemo(\n      () => [styles.contentContainer, contentContainerAnimatedStyle],\n      [contentContainerAnimatedStyle]\n    );\n    /**\n     * added safe area to prevent the sheet from floating above\n     * the bottom of the screen, when sheet being over dragged or\n     * when the sheet is resized.\n     */\n    const contentMaskContainerAnimatedStyle = useAnimatedStyle(() => {\n      if (detached) {\n        return {\n          overflow: 'visible',\n        };\n      }\n      return {\n        paddingBottom: animatedContainerHeight.value,\n      };\n    }, [detached]);\n    const contentMaskContainerStyle = useMemo(\n      () => [styles.contentMaskContainer, contentMaskContainerAnimatedStyle],\n      [contentMaskContainerAnimatedStyle]\n    );\n    //#endregion\n\n    //#region effects\n    /**\n     * React to `isLayoutCalculated` change, to insure that the sheet will\n     * appears/mounts only when all layout is been calculated.\n     *\n     * @alias OnMount\n     */\n    useAnimatedReaction(\n      () => isLayoutCalculated.value,\n      _isLayoutCalculated => {\n        /**\n         * exit method if:\n         * - layout is not calculated yet.\n         * - already did animate on mount.\n         */\n        if (!_isLayoutCalculated || isAnimatedOnMount.value) {\n          return;\n        }\n\n        let nextPosition;\n        if (_providedIndex === -1) {\n          nextPosition = animatedClosedPosition.value;\n          animatedNextPositionIndex.value = -1;\n        } else {\n          nextPosition = getNextPosition();\n        }\n\n        runOnJS(print)({\n          component: BottomSheet.name,\n          method: 'useAnimatedReaction::OnMount',\n          params: {\n            isLayoutCalculated: _isLayoutCalculated,\n            animatedSnapPoints: animatedSnapPoints.value,\n            nextPosition,\n          },\n        });\n\n        /**\n         * here we exit method early because the next position\n         * is out of the screen, this happens when `snapPoints`\n         * still being calculated.\n         */\n        if (\n          nextPosition === INITIAL_POSITION ||\n          nextPosition === animatedClosedPosition.value\n        ) {\n          isAnimatedOnMount.value = true;\n          animatedCurrentIndex.value = _providedIndex;\n          return;\n        }\n\n        if (animateOnMount) {\n          animateToPosition(nextPosition, ANIMATION_SOURCE.MOUNT);\n        } else {\n          animatedPosition.value = nextPosition;\n        }\n        isAnimatedOnMount.value = true;\n      },\n      [_providedIndex, animateOnMount]\n    );\n\n    /**\n     * React to `snapPoints` change, to insure that the sheet position reflect\n     * to the current point correctly.\n     *\n     * @alias OnSnapPointsChange\n     */\n    useAnimatedReaction(\n      () => ({\n        snapPoints: animatedSnapPoints.value,\n        containerHeight: animatedContainerHeight.value,\n      }),\n      (result, _previousResult) => {\n        const { snapPoints, containerHeight } = result;\n        const _previousSnapPoints = _previousResult?.snapPoints;\n        const _previousContainerHeight = _previousResult?.containerHeight;\n\n        if (\n          JSON.stringify(snapPoints) === JSON.stringify(_previousSnapPoints) ||\n          !isLayoutCalculated.value ||\n          !isAnimatedOnMount.value ||\n          containerHeight <= 0\n        ) {\n          return;\n        }\n\n        runOnJS(print)({\n          component: BottomSheet.name,\n          method: 'useAnimatedReaction::OnSnapPointChange',\n          params: {\n            snapPoints,\n          },\n        });\n\n        let nextPosition;\n        let animationConfig;\n        let animationSource = ANIMATION_SOURCE.SNAP_POINT_CHANGE;\n\n        /**\n         * if snap points changed while sheet is animating, then\n         * we stop the animation and animate to the updated point.\n         */\n        if (\n          animatedAnimationState.value === ANIMATION_STATE.RUNNING &&\n          animatedNextPositionIndex.value !== animatedCurrentIndex.value\n        ) {\n          nextPosition =\n            animatedNextPositionIndex.value !== -1\n              ? snapPoints[animatedNextPositionIndex.value]\n              : animatedNextPosition.value;\n        } else if (animatedCurrentIndex.value === -1) {\n          nextPosition = animatedClosedPosition.value;\n        } else if (isInTemporaryPosition.value) {\n          nextPosition = getNextPosition();\n        } else {\n          nextPosition = snapPoints[animatedCurrentIndex.value];\n\n          /**\n           * if snap points changes because of the container height change,\n           * then we skip the snap animation by setting the duration to 0.\n           */\n          if (containerHeight !== _previousContainerHeight) {\n            animationSource = ANIMATION_SOURCE.CONTAINER_RESIZE;\n            animationConfig = {\n              duration: 0,\n            };\n          }\n        }\n        animateToPosition(nextPosition, animationSource, 0, animationConfig);\n      }\n    );\n\n    /**\n     * React to keyboard appearance state.\n     *\n     * @alias OnKeyboardStateChange\n     */\n    useAnimatedReaction(\n      () => ({\n        _keyboardState: animatedKeyboardState.value,\n        _keyboardHeight: animatedKeyboardHeight.value,\n      }),\n      (result, _previousResult) => {\n        const { _keyboardState, _keyboardHeight } = result;\n        const _previousKeyboardState = _previousResult?._keyboardState;\n        const _previousKeyboardHeight = _previousResult?._keyboardHeight;\n\n        /**\n         * Calculate the keyboard height in the container.\n         */\n        animatedKeyboardHeightInContainer.value = $modal\n          ? Math.abs(\n              _keyboardHeight -\n                Math.abs(bottomInset - animatedContainerOffset.value.bottom)\n            )\n          : Math.abs(_keyboardHeight - animatedContainerOffset.value.bottom);\n\n        /**\n         * if keyboard state is equal to the previous state, then exit the method\n         */\n        if (\n          _keyboardState === _previousKeyboardState &&\n          _keyboardHeight === _previousKeyboardHeight\n        ) {\n          return;\n        }\n\n        /**\n         * if user is interacting with sheet, then exit the method\n         */\n        const hasActiveGesture =\n          animatedContentGestureState.value === State.ACTIVE ||\n          animatedContentGestureState.value === State.BEGAN ||\n          animatedHandleGestureState.value === State.ACTIVE ||\n          animatedHandleGestureState.value === State.BEGAN;\n        if (hasActiveGesture) {\n          return;\n        }\n\n        /**\n         * if sheet not animated on mount yet, then exit the method\n         */\n        if (!isAnimatedOnMount.value) {\n          return;\n        }\n\n        /**\n         * if new keyboard state is hidden and blur behavior is none, then exit the method\n         */\n        if (\n          _keyboardState === KEYBOARD_STATE.HIDDEN &&\n          keyboardBlurBehavior === KEYBOARD_BLUR_BEHAVIOR.none\n        ) {\n          return;\n        }\n\n        /**\n         * if platform is android and the input mode is resize, then exit the method\n         */\n        if (\n          Platform.OS === 'android' &&\n          keyboardBehavior === KEYBOARD_BEHAVIOR.interactive &&\n          android_keyboardInputMode === KEYBOARD_INPUT_MODE.adjustResize\n        ) {\n          animatedKeyboardHeightInContainer.value = 0;\n          return;\n        }\n\n        runOnJS(print)({\n          component: BottomSheet.name,\n          method: 'useAnimatedReaction::OnKeyboardStateChange',\n          params: {\n            keyboardState: _keyboardState,\n            keyboardHeight: _keyboardHeight,\n          },\n        });\n\n        let animationConfigs = getKeyboardAnimationConfigs(\n          keyboardAnimationEasing.value,\n          keyboardAnimationDuration.value\n        );\n        const nextPosition = getNextPosition();\n        animateToPosition(\n          nextPosition,\n          ANIMATION_SOURCE.KEYBOARD,\n          0,\n          animationConfigs\n        );\n      },\n      [\n        $modal,\n        bottomInset,\n        keyboardBehavior,\n        keyboardBlurBehavior,\n        android_keyboardInputMode,\n        animatedContainerOffset,\n        getNextPosition,\n      ]\n    );\n\n    /**\n     * sets provided animated position\n     */\n    useAnimatedReaction(\n      () => animatedPosition.value,\n      _animatedPosition => {\n        if (_providedAnimatedPosition) {\n          _providedAnimatedPosition.value = _animatedPosition + topInset;\n        }\n      }\n    );\n\n    /**\n     * sets provided animated index\n     */\n    useAnimatedReaction(\n      () => animatedIndex.value,\n      _animatedIndex => {\n        if (_providedAnimatedIndex) {\n          _providedAnimatedIndex.value = _animatedIndex;\n        }\n      }\n    );\n\n    /**\n     * React to internal variables to detect change in snap position.\n     *\n     * @alias OnChange\n     */\n    useAnimatedReaction(\n      () => ({\n        _animatedIndex: animatedIndex.value,\n        _animatedPosition: animatedPosition.value,\n        _animationState: animatedAnimationState.value,\n        _contentGestureState: animatedContentGestureState.value,\n        _handleGestureState: animatedHandleGestureState.value,\n      }),\n      ({\n        _animatedIndex,\n        _animationState,\n        _contentGestureState,\n        _handleGestureState,\n      }) => {\n        /**\n         * exit the method if animation state is not stopped.\n         */\n        if (_animationState !== ANIMATION_STATE.STOPPED) {\n          return;\n        }\n\n        /**\n         * exit the method if animated index value\n         * has fraction, e.g. 1.99, 0.52\n         */\n        if (_animatedIndex % 1 !== 0) {\n          return;\n        }\n\n        /**\n         * exit the method if there any active gesture.\n         */\n        const hasNoActiveGesture =\n          (_contentGestureState === State.END ||\n            _contentGestureState === State.UNDETERMINED ||\n            _contentGestureState === State.CANCELLED) &&\n          (_handleGestureState === State.END ||\n            _handleGestureState === State.UNDETERMINED ||\n            _handleGestureState === State.CANCELLED);\n        if (!hasNoActiveGesture) {\n          return;\n        }\n\n        /**\n         * if the index is not equal to the current index,\n         * than the sheet position had changed and we trigger\n         * the `onChange` callback.\n         */\n        if (_animatedIndex !== animatedCurrentIndex.value) {\n          runOnJS(print)({\n            component: BottomSheet.name,\n            method: 'useAnimatedReaction::OnChange',\n            params: {\n              animatedCurrentIndex: animatedCurrentIndex.value,\n              animatedIndex: _animatedIndex,\n            },\n          });\n\n          animatedCurrentIndex.value = _animatedIndex;\n          runOnJS(handleOnChange)(_animatedIndex);\n        }\n\n        /**\n         * if index is `-1` than we fire the `onClose` callback.\n         */\n        if (_animatedIndex === -1 && _providedOnClose) {\n          runOnJS(print)({\n            component: BottomSheet.name,\n            method: 'useAnimatedReaction::onClose',\n            params: {\n              animatedCurrentIndex: animatedCurrentIndex.value,\n              animatedIndex: _animatedIndex,\n            },\n          });\n          runOnJS(_providedOnClose)();\n        }\n      },\n      [handleOnChange, _providedOnClose]\n    );\n\n    /**\n     * React to `index` prop to snap the sheet to the new position.\n     *\n     * @alias onIndexChange\n     */\n    useEffect(() => {\n      if (isAnimatedOnMount.value) {\n        handleSnapToIndex(_providedIndex);\n      }\n    }, [\n      _providedIndex,\n      animatedCurrentIndex,\n      isAnimatedOnMount,\n      handleSnapToIndex,\n    ]);\n    //#endregion\n\n    // render\n    print({\n      component: BottomSheet.name,\n      method: 'render',\n      params: {\n        animatedSnapPoints: animatedSnapPoints.value,\n        animatedCurrentIndex: animatedCurrentIndex.value,\n        providedIndex: _providedIndex,\n      },\n    });\n    return (\n      <BottomSheetProvider value={externalContextVariables}>\n        <BottomSheetInternalProvider value={internalContextVariables}>\n          <BottomSheetGestureHandlersProvider\n            gestureEventsHandlersHook={gestureEventsHandlersHook}\n          >\n            <BottomSheetBackdropContainer\n              key=\"BottomSheetBackdropContainer\"\n              animatedIndex={animatedIndex}\n              animatedPosition={animatedPosition}\n              backdropComponent={backdropComponent}\n            />\n            <BottomSheetContainer\n              key=\"BottomSheetContainer\"\n              shouldCalculateHeight={!$modal}\n              containerHeight={_animatedContainerHeight}\n              containerOffset={animatedContainerOffset}\n              topInset={topInset}\n              bottomInset={bottomInset}\n              detached={detached}\n              style={_providedContainerStyle}\n            >\n              <Animated.View style={containerStyle}>\n                <BottomSheetBackgroundContainer\n                  key=\"BottomSheetBackgroundContainer\"\n                  animatedIndex={animatedIndex}\n                  animatedPosition={animatedPosition}\n                  backgroundComponent={backgroundComponent}\n                  backgroundStyle={_providedBackgroundStyle}\n                />\n                <Animated.View\n                  pointerEvents=\"box-none\"\n                  style={contentMaskContainerStyle}\n                >\n                  <BottomSheetDraggableView\n                    key=\"BottomSheetRootDraggableView\"\n                    style={contentContainerStyle}\n                  >\n                    {typeof Content === 'function' ? <Content /> : Content}\n\n                    {footerComponent && (\n                      <BottomSheetFooterContainer\n                        footerComponent={footerComponent}\n                      />\n                    )}\n                  </BottomSheetDraggableView>\n                </Animated.View>\n                <BottomSheetHandleContainer\n                  key=\"BottomSheetHandleContainer\"\n                  animatedIndex={animatedIndex}\n                  animatedPosition={animatedPosition}\n                  handleHeight={animatedHandleHeight}\n                  enableHandlePanningGesture={enableHandlePanningGesture}\n                  enableOverDrag={enableOverDrag}\n                  enablePanDownToClose={enablePanDownToClose}\n                  overDragResistanceFactor={overDragResistanceFactor}\n                  keyboardBehavior={keyboardBehavior}\n                  handleComponent={handleComponent}\n                  handleStyle={_providedHandleStyle}\n                  handleIndicatorStyle={_providedHandleIndicatorStyle}\n                />\n              </Animated.View>\n              {/* <BottomSheetDebugView\n                values={{\n                  // topInset,\n                  // bottomInset,\n                  animatedSheetState,\n                  // animatedScrollableState,\n                  // animatedScrollableOverrideState,\n                  // isScrollableRefreshable,\n                  // animatedScrollableContentOffsetY,\n                  // keyboardState,\n                  animatedIndex,\n                  animatedCurrentIndex,\n                  animatedPosition,\n                  animatedHandleGestureState,\n                  animatedContentGestureState,\n                  // animatedContainerHeight,\n                  // animatedSheetHeight,\n                  // animatedHandleHeight,\n                  // animatedContentHeight,\n                  // // keyboardHeight,\n                  // isLayoutCalculated,\n                  // isContentHeightFixed,\n                  // isInTemporaryPosition,\n                }}\n              /> */}\n            </BottomSheetContainer>\n          </BottomSheetGestureHandlersProvider>\n        </BottomSheetInternalProvider>\n      </BottomSheetProvider>\n    );\n  }\n);\n\nconst BottomSheet = memo(BottomSheetComponent);\nBottomSheet.displayName = 'BottomSheet';\n\nexport default BottomSheet;\n"],"mappings":"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"}