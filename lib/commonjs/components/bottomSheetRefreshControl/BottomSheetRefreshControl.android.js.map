{"version":3,"names":["AnimatedRefreshControl","Animated","createAnimatedComponent","RefreshControl","BottomSheetRefreshControlComponent","onRefresh","scrollableGesture","rest","draggableGesture","useContext","BottomSheetDraggableContext","animatedScrollableState","useBottomSheetInternal","animatedProps","useAnimatedProps","enabled","value","SCROLLABLE_STATE","UNLOCKED","gesture","useMemo","Gesture","Simultaneous","Native","shouldCancelWhenOutside","BottomSheetRefreshControl","memo","displayName"],"sources":["BottomSheetRefreshControl.android.tsx"],"sourcesContent":["import React, { memo, useContext, useMemo } from 'react';\nimport { RefreshControl, RefreshControlProps } from 'react-native';\nimport {\n  Gesture,\n  GestureDetector,\n  SimultaneousGesture,\n} from 'react-native-gesture-handler';\nimport Animated, { useAnimatedProps } from 'react-native-reanimated';\nimport { BottomSheetDraggableContext } from '../../contexts/gesture';\nimport { SCROLLABLE_STATE } from '../../constants';\nimport { useBottomSheetInternal } from '../../hooks';\n\nconst AnimatedRefreshControl = Animated.createAnimatedComponent(RefreshControl);\n\ninterface BottomSheetRefreshControlProps extends RefreshControlProps {\n  scrollableGesture: SimultaneousGesture;\n}\n\nfunction BottomSheetRefreshControlComponent({\n  onRefresh,\n  scrollableGesture,\n  ...rest\n}: BottomSheetRefreshControlProps) {\n  //#region hooks\n  const draggableGesture = useContext(BottomSheetDraggableContext);\n  const { animatedScrollableState } = useBottomSheetInternal();\n  //#endregion\n\n  //#region variables\n  const animatedProps = useAnimatedProps(() => ({\n    enabled: animatedScrollableState.value === SCROLLABLE_STATE.UNLOCKED,\n  }));\n  const gesture = useMemo(\n    () =>\n      Gesture.Simultaneous(\n        Gesture.Native().shouldCancelWhenOutside(false),\n        scrollableGesture,\n        draggableGesture!\n      ),\n    [draggableGesture, scrollableGesture]\n  );\n  //#endregion\n\n  // render\n  return (\n    <GestureDetector gesture={gesture}>\n      <AnimatedRefreshControl\n        {...rest}\n        onRefresh={onRefresh}\n        animatedProps={animatedProps}\n      />\n    </GestureDetector>\n  );\n}\n\nconst BottomSheetRefreshControl = memo(BottomSheetRefreshControlComponent);\nBottomSheetRefreshControl.displayName = 'BottomSheetRefreshControl';\n\nexport default BottomSheetRefreshControl;\n"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AAKA;;AACA;;AACA;;AACA;;;;;;;;AAEA,MAAMA,sBAAsB,GAAGC,8BAAA,CAASC,uBAAT,CAAiCC,2BAAjC,CAA/B;;AAMA,SAASC,kCAAT,OAImC;EAAA,IAJS;IAC1CC,SAD0C;IAE1CC,iBAF0C;IAG1C,GAAGC;EAHuC,CAIT;EACjC;EACA,MAAMC,gBAAgB,GAAG,IAAAC,iBAAA,EAAWC,oCAAX,CAAzB;EACA,MAAM;IAAEC;EAAF,IAA8B,IAAAC,6BAAA,GAApC,CAHiC,CAIjC;EAEA;;EACA,MAAMC,aAAa,GAAG,IAAAC,uCAAA,EAAiB,OAAO;IAC5CC,OAAO,EAAEJ,uBAAuB,CAACK,KAAxB,KAAkCC,2BAAA,CAAiBC;EADhB,CAAP,CAAjB,CAAtB;EAGA,MAAMC,OAAO,GAAG,IAAAC,cAAA,EACd,MACEC,kCAAA,CAAQC,YAAR,CACED,kCAAA,CAAQE,MAAR,GAAiBC,uBAAjB,CAAyC,KAAzC,CADF,EAEElB,iBAFF,EAGEE,gBAHF,CAFY,EAOd,CAACA,gBAAD,EAAmBF,iBAAnB,CAPc,CAAhB,CAViC,CAmBjC;EAEA;;EACA,oBACE,6BAAC,0CAAD;IAAiB,OAAO,EAAEa;EAA1B,gBACE,6BAAC,sBAAD,eACMZ,IADN;IAEE,SAAS,EAAEF,SAFb;IAGE,aAAa,EAAEQ;EAHjB,GADF,CADF;AASD;;AAED,MAAMY,yBAAyB,gBAAG,IAAAC,WAAA,EAAKtB,kCAAL,CAAlC;AACAqB,yBAAyB,CAACE,WAA1B,GAAwC,2BAAxC;eAEeF,yB"}