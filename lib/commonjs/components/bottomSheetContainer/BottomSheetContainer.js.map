{"version":3,"names":["BottomSheetContainerComponent","containerHeight","containerOffset","topInset","bottomInset","shouldCalculateHeight","detached","style","children","containerRef","useRef","containerStyle","useMemo","styles","container","top","bottom","overflow","handleContainerLayout","useCallback","nativeEvent","layout","height","value","current","measure","_x","_y","_width","_height","_pageX","pageY","left","right","Math","max","WINDOW_HEIGHT","StatusBar","currentHeight","print","component","BottomSheetContainer","displayName","method","params","undefined","memo"],"sources":["BottomSheetContainer.tsx"],"sourcesContent":["import React, { memo, useCallback, useMemo, useRef } from 'react';\nimport {\n  LayoutChangeEvent,\n  StatusBar,\n  StyleProp,\n  View,\n  ViewStyle,\n} from 'react-native';\nimport { WINDOW_HEIGHT } from '../../constants';\nimport { print } from '../../utilities';\nimport { styles } from './styles';\nimport type { BottomSheetContainerProps } from './types';\n\nfunction BottomSheetContainerComponent({\n  containerHeight,\n  containerOffset,\n  topInset = 0,\n  bottomInset = 0,\n  shouldCalculateHeight = true,\n  detached,\n  style,\n  children,\n}: BottomSheetContainerProps) {\n  const containerRef = useRef<View>(null);\n  //#region styles\n  const containerStyle = useMemo<StyleProp<ViewStyle>>(\n    () => [\n      style,\n      styles.container,\n      {\n        top: topInset,\n        bottom: bottomInset,\n        overflow: detached ? 'visible' : 'hidden',\n      },\n    ],\n    [style, detached, topInset, bottomInset]\n  );\n  //#endregion\n\n  //#region callbacks\n  const handleContainerLayout = useCallback(\n    function handleContainerLayout({\n      nativeEvent: {\n        layout: { height },\n      },\n    }: LayoutChangeEvent) {\n      containerHeight.value = height;\n\n      containerRef.current?.measure(\n        (_x, _y, _width, _height, _pageX, pageY) => {\n          containerOffset.value = {\n            top: pageY,\n            left: 0,\n            right: 0,\n            bottom: Math.max(\n              0,\n              WINDOW_HEIGHT - (pageY + height + (StatusBar.currentHeight ?? 0))\n            ),\n          };\n        }\n      );\n\n      print({\n        component: BottomSheetContainer.displayName,\n        method: 'handleContainerLayout',\n        params: {\n          height,\n        },\n      });\n    },\n    [containerHeight, containerOffset, containerRef]\n  );\n  //#endregion\n\n  //#region render\n  return (\n    <View\n      ref={containerRef}\n      pointerEvents=\"box-none\"\n      onLayout={shouldCalculateHeight ? handleContainerLayout : undefined}\n      style={containerStyle}\n      children={children}\n    />\n  );\n  //#endregion\n}\n\nconst BottomSheetContainer = memo(BottomSheetContainerComponent);\nBottomSheetContainer.displayName = 'BottomSheetContainer';\n\nexport default BottomSheetContainer;\n"],"mappings":";;;;;;;AAAA;;AACA;;AAOA;;AACA;;AACA;;;;;;AAGA,SAASA,6BAAT,OAS8B;EAAA,IATS;IACrCC,eADqC;IAErCC,eAFqC;IAGrCC,QAAQ,GAAG,CAH0B;IAIrCC,WAAW,GAAG,CAJuB;IAKrCC,qBAAqB,GAAG,IALa;IAMrCC,QANqC;IAOrCC,KAPqC;IAQrCC;EARqC,CAST;EAC5B,MAAMC,YAAY,GAAG,IAAAC,aAAA,EAAa,IAAb,CAArB,CAD4B,CAE5B;;EACA,MAAMC,cAAc,GAAG,IAAAC,cAAA,EACrB,MAAM,CACJL,KADI,EAEJM,cAAA,CAAOC,SAFH,EAGJ;IACEC,GAAG,EAAEZ,QADP;IAEEa,MAAM,EAAEZ,WAFV;IAGEa,QAAQ,EAAEX,QAAQ,GAAG,SAAH,GAAe;EAHnC,CAHI,CADe,EAUrB,CAACC,KAAD,EAAQD,QAAR,EAAkBH,QAAlB,EAA4BC,WAA5B,CAVqB,CAAvB,CAH4B,CAe5B;EAEA;;EACA,MAAMc,qBAAqB,GAAG,IAAAC,kBAAA,EAC5B,SAASD,qBAAT,QAIsB;IAAA;;IAAA,IAJS;MAC7BE,WAAW,EAAE;QACXC,MAAM,EAAE;UAAEC;QAAF;MADG;IADgB,CAIT;IACpBrB,eAAe,CAACsB,KAAhB,GAAwBD,MAAxB;IAEA,yBAAAb,YAAY,CAACe,OAAb,gFAAsBC,OAAtB,CACE,CAACC,EAAD,EAAKC,EAAL,EAASC,MAAT,EAAiBC,OAAjB,EAA0BC,MAA1B,EAAkCC,KAAlC,KAA4C;MAC1C7B,eAAe,CAACqB,KAAhB,GAAwB;QACtBR,GAAG,EAAEgB,KADiB;QAEtBC,IAAI,EAAE,CAFgB;QAGtBC,KAAK,EAAE,CAHe;QAItBjB,MAAM,EAAEkB,IAAI,CAACC,GAAL,CACN,CADM,EAENC,wBAAA,IAAiBL,KAAK,GAAGT,MAAR,IAAkBe,sBAAA,CAAUC,aAAV,IAA2B,CAA7C,CAAjB,CAFM;MAJc,CAAxB;IASD,CAXH;IAcA,IAAAC,gBAAA,EAAM;MACJC,SAAS,EAAEC,oBAAoB,CAACC,WAD5B;MAEJC,MAAM,EAAE,uBAFJ;MAGJC,MAAM,EAAE;QACNtB;MADM;IAHJ,CAAN;EAOD,CA7B2B,EA8B5B,CAACrB,eAAD,EAAkBC,eAAlB,EAAmCO,YAAnC,CA9B4B,CAA9B,CAlB4B,CAkD5B;EAEA;;EACA,oBACE,6BAAC,iBAAD;IACE,GAAG,EAAEA,YADP;IAEE,aAAa,EAAC,UAFhB;IAGE,QAAQ,EAAEJ,qBAAqB,GAAGa,qBAAH,GAA2B2B,SAH5D;IAIE,KAAK,EAAElC,cAJT;IAKE,QAAQ,EAAEH;EALZ,EADF,CArD4B,CA8D5B;AACD;;AAED,MAAMiC,oBAAoB,gBAAG,IAAAK,WAAA,EAAK9C,6BAAL,CAA7B;AACAyC,oBAAoB,CAACC,WAArB,GAAmC,sBAAnC;eAEeD,oB"}