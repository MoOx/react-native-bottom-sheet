{"version":3,"names":["BottomSheetHandleContainerComponent","animatedIndex","animatedPosition","simultaneousHandlers","_internalSimultaneousHandlers","enableHandlePanningGesture","handleHeight","handleComponent","_providedHandleComponent","handleStyle","_providedHandleStyle","handleIndicatorStyle","_providedIndicatorStyle","activeOffsetX","activeOffsetY","failOffsetX","failOffsetY","waitFor","_providedSimultaneousHandlers","useBottomSheetInternal","handlePanGestureHandler","useBottomSheetGestureHandlers","useMemo","refs","push","Array","isArray","panGesture","gesture","Gesture","Pan","enabled","shouldCancelWhenOutside","runOnJS","onStart","handleOnStart","onChange","handleOnChange","onEnd","handleOnEnd","onFinalize","handleOnFinalize","requireExternalGestureToFail","simultaneousWithExternalGesture","handleContainerLayout","useCallback","nativeEvent","layout","height","value","print","component","BottomSheetHandleContainer","displayName","method","params","HandleComponent","undefined","BottomSheetHandle","styles","container","memo"],"sources":["BottomSheetHandleContainer.tsx"],"sourcesContent":["import React, { memo, useCallback, useMemo } from 'react';\nimport type { LayoutChangeEvent } from 'react-native';\nimport { Gesture, GestureDetector } from 'react-native-gesture-handler';\nimport Animated from 'react-native-reanimated';\nimport BottomSheetHandle from '../bottomSheetHandle';\nimport {\n  useBottomSheetGestureHandlers,\n  useBottomSheetInternal,\n} from '../../hooks';\nimport { print } from '../../utilities';\nimport { styles } from './styles';\nimport type { BottomSheetHandleContainerProps } from './types';\n\nfunction BottomSheetHandleContainerComponent({\n  animatedIndex,\n  animatedPosition,\n  simultaneousHandlers: _internalSimultaneousHandlers,\n  enableHandlePanningGesture,\n  handleHeight,\n  handleComponent: _providedHandleComponent,\n  handleStyle: _providedHandleStyle,\n  handleIndicatorStyle: _providedIndicatorStyle,\n}: BottomSheetHandleContainerProps) {\n  //#region hooks\n  const {\n    activeOffsetX,\n    activeOffsetY,\n    failOffsetX,\n    failOffsetY,\n    waitFor,\n    simultaneousHandlers: _providedSimultaneousHandlers,\n  } = useBottomSheetInternal();\n  const { handlePanGestureHandler } = useBottomSheetGestureHandlers();\n  //#endregion\n\n  //#region variables\n  const simultaneousHandlers = useMemo<any>(() => {\n    const refs = [];\n\n    if (_internalSimultaneousHandlers) {\n      refs.push(_internalSimultaneousHandlers);\n    }\n\n    if (_providedSimultaneousHandlers) {\n      if (Array.isArray(_providedSimultaneousHandlers)) {\n        refs.push(..._providedSimultaneousHandlers);\n      } else {\n        refs.push(_providedSimultaneousHandlers);\n      }\n    }\n\n    return refs;\n  }, [_providedSimultaneousHandlers, _internalSimultaneousHandlers]);\n\n  const panGesture = useMemo(() => {\n    let gesture = Gesture.Pan()\n      .enabled(enableHandlePanningGesture!)\n      .shouldCancelWhenOutside(false)\n      .runOnJS(false)\n      .onStart(handlePanGestureHandler.handleOnStart)\n      .onChange(handlePanGestureHandler.handleOnChange)\n      .onEnd(handlePanGestureHandler.handleOnEnd)\n      .onFinalize(handlePanGestureHandler.handleOnFinalize);\n\n    if (waitFor) {\n      gesture = gesture.requireExternalGestureToFail(waitFor);\n    }\n\n    if (simultaneousHandlers) {\n      gesture = gesture.simultaneousWithExternalGesture(\n        simultaneousHandlers as any\n      );\n    }\n\n    if (activeOffsetX) {\n      gesture = gesture.activeOffsetX(activeOffsetX);\n    }\n\n    if (activeOffsetY) {\n      gesture = gesture.activeOffsetY(activeOffsetY);\n    }\n\n    if (failOffsetX) {\n      gesture = gesture.failOffsetX(failOffsetX);\n    }\n\n    if (failOffsetY) {\n      gesture = gesture.failOffsetY(failOffsetY);\n    }\n\n    return gesture;\n  }, [\n    activeOffsetX,\n    activeOffsetY,\n    enableHandlePanningGesture,\n    failOffsetX,\n    failOffsetY,\n    simultaneousHandlers,\n    waitFor,\n    handlePanGestureHandler.handleOnChange,\n    handlePanGestureHandler.handleOnEnd,\n    handlePanGestureHandler.handleOnFinalize,\n    handlePanGestureHandler.handleOnStart,\n  ]);\n  //#endregion\n\n  //#region callbacks\n  const handleContainerLayout = useCallback(\n    function handleContainerLayout({\n      nativeEvent: {\n        layout: { height },\n      },\n    }: LayoutChangeEvent) {\n      handleHeight.value = height;\n\n      print({\n        component: BottomSheetHandleContainer.displayName,\n        method: 'handleContainerLayout',\n        params: {\n          height,\n        },\n      });\n    },\n    [handleHeight]\n  );\n  //#endregion\n\n  //#region renders\n  const HandleComponent =\n    _providedHandleComponent === undefined\n      ? BottomSheetHandle\n      : _providedHandleComponent;\n  return HandleComponent !== null ? (\n    <GestureDetector gesture={panGesture}>\n      <Animated.View\n        key=\"BottomSheetHandleContainer\"\n        accessible={true}\n        accessibilityRole=\"adjustable\"\n        accessibilityLabel=\"Bottom Sheet handle\"\n        accessibilityHint=\"Drag up or down to extend or minimize the Bottom Sheet\"\n        style={styles.container}\n        onLayout={handleContainerLayout}\n      >\n        <HandleComponent\n          animatedIndex={animatedIndex}\n          animatedPosition={animatedPosition}\n          style={_providedHandleStyle}\n          indicatorStyle={_providedIndicatorStyle}\n        />\n      </Animated.View>\n    </GestureDetector>\n  ) : null;\n  //#endregion\n}\n\nconst BottomSheetHandleContainer = memo(BottomSheetHandleContainerComponent);\nBottomSheetHandleContainer.displayName = 'BottomSheetHandleContainer';\n\nexport default BottomSheetHandleContainer;\n"],"mappings":"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"}